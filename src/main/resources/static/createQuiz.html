<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Create Quiz</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-success bg-opacity-10">

  <div class="container mt-5 p-4 bg-white shadow rounded">
    <h1 class="text-center text-success mb-4">Create a New Quiz</h1>

    <form id="quiz-form">
      <div class="mb-3">
        <label for="new-topic" class="form-label fw-semibold">üìö Category:</label>
        <input type="text" id="new-topic" class="form-control" placeholder="e.g., Web, HTML, Java" required />
      </div>

      <div class="mb-3">
        <label for="count" class="form-label fw-semibold">üî¢ Number of Questions:</label>
        <input type="number" id="count" class="form-control" required min="1" placeholder="e.g., 5" />
      </div>

      <div class="mb-3">
        <label for="title" class="form-label fw-semibold">üè∑Ô∏è Title for this Test:</label>
        <input type="text" id="title" class="form-control" placeholder="e.g., Web Dev Practice Set" />
      </div>

      <div class="text-center">
        <button type="submit" class="btn btn-success px-4">üöÄ Create Quiz</button>
      </div>
    </form>
  </div>

  <footer class="bg-success text-white text-center py-3 mt-5">
    &copy; 2025 Smart Quiz Portal | Built with ‚ù§Ô∏è by Kalai
  </footer>

  <script>
    document.getElementById("quiz-form").addEventListener("submit", async function (e) {
      e.preventDefault();

      const topic = document.getElementById("new-topic").value.trim();
      const count = document.getElementById("count").value.trim();
      const title = document.getElementById("title").value.trim() || "UserPractice";

      const url = `http://localhost:8080/quiz/createQuiz/?category=${topic}&No.Question=${count}&Tile=${title}`;

      try {
        const response = await fetch(url, { method: "POST" });
        if (response.ok) {
          alert("‚úÖ Quiz created successfully!");
        } else {
          alert("‚ùå Failed to create quiz.");
        }
      } catch (err) {
        alert("‚ö†Ô∏è Error connecting to server.");
        console.error(err);
      }
    });
  </script>

</body>
</html>
